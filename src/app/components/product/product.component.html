<main>

<section>
  <div class="container">
    <div class="row">
      <div class="col-12 card">
        <div class="row">
          <div class="col-6 product-gallery">
            <img src="assets/img/item1.jpg">
          </div>
          <div class="col-6 product-info">
            <div class="product-info-wrapper">
              <h4 class="title">{{ (product)?.title }}</h4>
              <p>Rentor: &nbsp;<span>{{ (user)?.lastName }}</span></p>
              <p>Location: &nbsp;<span>Bucharest</span></p>
              <div class="product-info-group">
                <p>Price: &nbsp;
                  <span class="price">{{ (product)?.price }}€</span>
                  <span class="price-per">/{{ (product)?.pricePer }}</span>
                </p>
              </div>
              <div class="rent-wrapper">
                <span class="field-name">Period</span>
                <ngb-datepicker #dp ngModel (select)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" [markDisabled]="isDisabled" (navigate)="onNavigateEvent($event)">
                </ngb-datepicker>
                
                <ng-template #t let-date="date" let-focused="focused">
                  <span class="custom-day" [class.focused]="focused" [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)"
                    [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date" (mouseleave)="hoveredDate = null">
                    {{ date.day }}
                  </span>
                </ng-template>
                <div class="period-wrapper">
                  <div>
                    <span class="field-name">From</span>
                    <div class="d-flex align-items-center">
                      <input class="form-control" placeholder="yyyy-mm-dd" name="start-date" [(ngModel)]="fromDate" (ngModelChange)="revertFromDate($event)" ngbDatepicker [markDisabled]="isDisabled"
                        #d="ngbDatepicker" disabled>
                      <ngb-timepicker [(ngModel)]="fromTime" [seconds]="false" [hourStep]="hourStep" [minuteStep]="minuteStep" [spinners]="false"></ngb-timepicker>
                    </div>
                  </div>
                  
                  <fa name="angle-double-right"></fa>
                  <div>
                    <span class="field-name">To</span>
                    <div class="d-flex align-items-center">
                      <input class="form-control" placeholder="yyyy-mm-dd" name="end-date" [(ngModel)]="toDate" (ngModelChange)="revertToDate($event)" ngbDatepicker [markDisabled]="isDisabled"
                        #d="ngbDatepicker" disabled>
                      <ngb-timepicker [(ngModel)]="toTime" [seconds]="false" [hourStep]="hourStep" [minuteStep]="minuteStep" [spinners]="false"></ngb-timepicker>
                    </div>
                  </div>
                </div>
                <div class="mb-7 d-flex w-100 justify-content-center">
                    <span class="available">maximum {{ (product)?.quantity }} available <span *ngIf="fromDate && toDate">, out of witch {{(product)?.quantity - maxim}} during this period</span>
                    </span>
                </div>
                <div class="rent-wrapper__segment">
                  <div class="d-flex">
                    <div class="align-self-start mr-15">
                      <span class="field-name">Todal {{ (product)?.pricePer}}s</span>
                      <input class="form-control" type="number" [(ngModel)]="count" disabled>
                    </div>
                    <div>
                      <span class="field-name">Quantity</span>
                      <div class="quantity-wrapper">
                        <span (click)="quantityMinus()">-</span>
                        <input type="number" value="1" min="1" max="100" [(ngModel)]="quantity" (ngModelChange)="doSomething($event)">
                        <span (click)="quantityPlus()">+</span>
                      </div>
                    </div>
                  </div>
                  <div>
                    <span class="field-name total">Total</span>
                    <span *ngIf="count>=0" class="price">{{ (product)?.price*count*quantity }}€</span>
                  </div>
                </div>
                <button class="button" (click)="showRentModal()">Rent it!</button>
              </div>
              <!-- <button class="button">Rent it!</button> -->
            </div>
          </div>
          <div class="col-12 description">
            <h5 class="mb-7">Description</h5>
            <pre><p><span class="tab-space"></span> {{ (product)?.description }}</p></pre>
          </div>
        </div>        
      </div>
    </div>
  </div>
</section>

</main>